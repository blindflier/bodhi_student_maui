<div class="container scrollable">
    <form name="permissionform" class="form mt10 scrollable-content" method="post" ng-submit="submit()">
        <h3>{{header}}</h3>
        <div ng-show="server.show" class="alert message-box mb10 alert-dismissible" ng-class="{'bg-success':server.success,'bg-danger':!server.success}">
            <button type="button" class="close" ng-click="server.show=false">
                <i class="fa fa-close"></i>
            </button>
            <div class="header">
                {{server.msgHeader}}
            </div>
            <p>{{server.msgBody}}</p>
        </div>
        <div class="form-group">
            <label>修学点<span class="text-danger">*</span></label> 
             <input ng-if="inGradeJail" type="text" class="form-control" value="{{currentGrade.city}}" readonly >
            <select ng-if="!inGradeJail" name="city" class="form-control" ng-model="model.city" ng-options="c for c in cities" ng-disabled="" ng-change="loadGrades()">
            </select>
        </div>

          <div class="form-group">
            <label>班级<span class="text-danger">*</span></label>
         
              <input ng-if="inGradeJail" type="text" class="form-control" value="{{currentGrade.genre+currentGrade.seq}}" readonly >

            <select ng-if="!inGradeJail" name="grade" class="form-control" ng-model="model.grade_id" ng-options="c.id as c.genre+c.seq for c in grades">
            </select>
        </div>

         <div class="form-group">
            <label>课程分类<span class="text-danger">*</span></label>
           <select class="form-control" ng-model="model.category" ng-options="t for t in categories" ng-change="loadCourses()">
        </select>
        <div class="form-group">
            <label>修学课程<span class="text-danger">*</span></label>
           <select class="form-control" ng-model="model.course_id" ng-options="c.id as c.seq+c.subject for c in courses" required>
           </select>
        </div>


        <div class="form-group">
            <label>共修时间<span class="text-danger">*</span></label>
            <div ng-bootstrap-datetimepicker  options="dtpOptions" selected-date="model.holding_time" class='input-group date' required>
                <input type='text'   class="form-control" />
                <span class="input-group-addon">
                        <span class="fa fa-calendar"></span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label>共修地点<span class="text-danger">*</span></label>
            <input type="text" class="form-control" ng-model="model.location" required>
        </div>
       
        <div class="form-group">
            <label>备注</label>
            <input type="text" class="form-control" ng-model="model.memo">
        </div>
        <input type="submit" ng-disabled="permissionform.$invalid" class="btn btn-primary btn-block">
        <a ui-sref="{{returnBack}}" class="btn btn-default btn-block">返回</a>
    </form>
</div>
